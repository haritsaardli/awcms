/* Neo-Glass Theme for Puck Editor */

/* Root Variables */
:root {
  --puck-color-grey-1: #f8fafc;
  --puck-color-grey-2: #e2e8f0;
  --puck-color-grey-3: #cbd5e1;
  --puck-color-grey-4: #94a3b8;
  --puck-color-grey-5: #64748b;
  --puck-color-grey-6: #475569;
  --puck-color-grey-7: #334155;
  --puck-color-grey-8: #1e293b;
  --puck-color-grey-9: #0f172a;

  --puck-color-azure-4: #6366f1;
  /* Indigo-500 */
  --puck-color-azure-5: #4f46e5;
  /* Indigo-600 */
  --puck-color-azure-6: #4338ca;
  /* Indigo-700 */
  --puck-color-red-5: #ef4444;

  --puck-font-family: 'Inter', sans-serif;
}

/* Sidebar Styling */
.Puck-Left,
.Puck-Right {
  border-left: 1px solid rgba(226, 232, 240, 0.8);
  background: rgba(255, 255, 255, 0.8) !important;
  backdrop-filter: blur(12px) !important;
}

/* Fields Styling */
.Puck-Field {
  margin-bottom: 1.5rem;
}

.Puck-Field .Puck-Label {
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: #64748b;
  margin-bottom: 0.5rem;
}

/* Inputs */
.Puck-Input,
.Puck-Select,
.Puck-TextArea {
  border: 1px solid #e2e8f0;
  border-radius: 0.5rem;
  padding: 0.625rem 0.875rem;
  font-size: 0.875rem;
  background: rgba(255, 255, 255, 0.6);
  transition: all 0.2s ease;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.Puck-Input:focus,
.Puck-Select:focus,
.Puck-TextArea:focus {
  border-color: #6366f1;
  background: #ffffff;
  outline: none;
  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1), 0 1px 2px rgba(0, 0, 0, 0.05);
  /* Ring effect */
}

/* Buttons inside Sidebar (e.g. Add Item) */
.Puck-Button {
  border-radius: 0.5rem;
  font-weight: 500;
  transition: all 0.2s;
}

.Puck-Button--primary {
  background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);
  border: none;
  box-shadow: 0 4px 6px -1px rgba(79, 70, 229, 0.2), 0 2px 4px -1px rgba(79, 70, 229, 0.1);
}

.Puck-Button--primary:hover {
  transform: translateY(-1px);
  box-shadow: 0 6px 8px -1px rgba(79, 70, 229, 0.3), 0 2px 4px -1px rgba(79, 70, 229, 0.15);
}

/* Components List Items */
.Puck-Component {
  border: 1px solid #e2e8f0;
  border-radius: 0.5rem;
  background: white;
  transition: all 0.2s;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.Puck-Component:hover {
  border-color: #cbd5e1;
  transform: translateY(-1px);
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
}

/* Zone Drop Area */
.Puck-DropZone {
  border: 2px dashed #cbd5e1;
  background: rgba(248, 250, 252, 0.5);
  border-radius: 0.75rem;
  transition: all 0.2s;
}

.Puck-DropZone--isHovering {
  border-color: #6366f1;
  background: rgba(99, 102, 241, 0.05);
}

/* Layout overrides to match the new header */
/* Ensure Puck doesn't fight with our fixed header layout */
.Puck-Root {
  height: 100%;
}

/* Dark Mode Overrides */
html.dark table,
html.dark tbody,
html.dark tr,
html.dark td {
  border-color: #334155 !important;
}

/* Sidebar Backgrounds - Robust Selectors */
html.dark div[class*="Sidebar"],
html.dark div[class*="_Sidebar_"],
html.dark .Puck-Left,
html.dark .Puck-Right {
  background: rgba(15, 23, 42, 0.95) !important;
  /* Slate-900 */
  border-left-color: #1e293b !important;
  /* Slate-800 */
  border-right-color: #1e293b !important;
}

/* Labels */
html.dark label[class*="Input"],
html.dark label[class*="_Input_"],
html.dark .Puck-Label {
  color: #cbd5e1 !important;
  /* Slate-300 */
}

/* Inputs, Selects, TextAreas */
html.dark input[class*="Input-input"],
html.dark input[class*="_Input-input_"],
html.dark select[class*="Select-input"],
html.dark select[class*="_Select-input_"],
html.dark textarea[class*="TextArea-input"],
html.dark textarea[class*="_TextArea-input_"],
html.dark .Puck-Input,
html.dark .Puck-Select,
html.dark .Puck-TextArea {
  background: rgba(2, 6, 23, 0.6) !important;
  /* Slate-950 */
  border-color: #334155 !important;
  /* Slate-700 */
  color: #f8fafc !important;
  /* Slate-50 */
}

/* Focus States */
html.dark input[class*="Input-input"]:focus,
html.dark input[class*="_Input-input_"]:focus,
html.dark .Puck-Input:focus {
  background: #020617 !important;
  /* Slate-950 */
  border-color: #6366f1 !important;
  /* Indigo-500 */
  box-shadow: 0 0 0 1px #6366f1 !important;
}

/* Components/Fields */
html.dark div[class*="Field"],
html.dark div[class*="_Field_"] {
  background: transparent !important;
}

html.dark .Puck-Component {
  background: #1e293b;
  /* Slate-800 */
  border-color: #334155;
  /* Slate-700 */
  color: #f8fafc;
  /* Slate-50 */
}

html.dark .Puck-Component:hover {
  border-color: #64748b;
  /* Slate-500 */
  background: #334155;
  /* Slate-700 */
}

html.dark .Puck-DropZone {
  background: rgba(30, 41, 59, 0.3);
  border-color: #475569;
}

/* --- Expanded Dark Mode Support --- */

/* Sidebar Section Headers (Blocks/Outline) */
html.dark [class*="SidebarSection"] button {
  color: #e2e8f0 !important;
}

html.dark [class*="SidebarSection"] button:hover {
  background: rgba(255, 255, 255, 0.1) !important;
}

/* Tab Headers */
html.dark [class*="TabList"] {
  border-bottom-color: #334155 !important;
}

html.dark [class*="TabList"] button {
  color: #94a3b8 !important;
}

html.dark [class*="TabList"] button[aria-selected="true"] {
  color: #6366f1 !important;
  /* Azure/Indigo */
  border-bottom-color: #6366f1 !important;
}

/* Category Headers in Sidebar */
html.dark [class*="Sidebar"] h2,
html.dark [class*="Sidebar"] h3,
html.dark [class*="Sidebar"] span {
  color: #f1f5f9 !important;
}

/* Right Sidebar "Page" Title */
html.dark [class*="Puck-Right"] h2 {
  color: #f8fafc !important;
}

/* Input Wrappers & Fields in Right Sidebar */
html.dark [class*="Field-label"],
html.dark label {
  color: #cbd5e1 !important;
  /* Slate-300 */
}

/* Make sure text in inputs is always readable */
html.dark input,
html.dark textarea,
html.dark select {
  color: #f8fafc !important;
}

/* Draggable Items in Drawer */
html.dark [class*="DrawerItem"] {
  background: #1e293b !important;
  border-color: #334155 !important;
  color: #f8fafc !important;
}

html.dark [class*="DrawerItem"]:hover {
  background: #334155 !important;
  border-color: #64748b !important;
}

/* Outline Items */
html.dark [class*="OutlineItem"] {
  background: transparent !important;
  color: #e2e8f0 !important;
  border-color: #334155 !important;
}

html.dark [class*="OutlineItem"]:hover {
  background: rgba(255, 255, 255, 0.05) !important;
}

/* Icons in Sidebars */
html.dark .Puck-Left svg,
html.dark .Puck-Right svg {
  color: #94a3b8 !important;
}


/* Dropdowns / Menus (React-Select or Custom) */
html.dark [class*="MenuList"],
html.dark [class*="Menu"] {
  background: #1e293b !important;
  /* Slate-800 */
  border-color: #334155 !important;
  color: #f8fafc !important;
}

html.dark [class*="Option"] {
  background: transparent !important;
  color: #e2e8f0 !important;
}

html.dark [class*="Option"]:hover,
html.dark [class*="Option"][class*="focused"] {
  background: #334155 !important;
  /* Slate-700 */
  color: #ffffff !important;
}

html.dark [class*="SingleValue"] {
  color: #f8fafc !important;
}

/* Color Pickers & Specific Inputs */
html.dark input[type="color"] {
  background: transparent !important;
  border: 1px solid #475569 !important;
  height: 2rem;
  width: 100%;
  cursor: pointer;
}

html.dark input[type="color"]::-webkit-color-swatch-wrapper {
  padding: 0;
}

html.dark input[type="color"]::-webkit-color-swatch {
  border: none;
  border-radius: 0.25rem;
}

/* Force specific input overrides if classes are missing */
html.dark .Puck-Right input:not([type="checkbox"]):not([type="radio"]) {
  background-color: rgba(2, 6, 23, 0.8) !important;
  color: #f8fafc !important;
  border-color: #334155 !important;
}

/* Popovers/Overlays */
html.dark [class*="Popover"],

/* Radix UI Select / Dropdown Overrides */
html.dark [data-radix-popper-content-wrapper] {
  z-index: 9999 !important;
}

html.dark [role="listbox"],
html.dark [role="menu"],
html.dark [class*="SelectContent"],
html.dark [class*="DropdownMenuContent"] {
  background-color: #1e293b !important;
  /* Slate-800 */
  border: 1px solid #334155 !important;
  /* Slate-700 */
  border-radius: 0.5rem;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.5), 0 2px 4px -1px rgba(0, 0, 0, 0.3) !important;
}

/* Radix Items */
html.dark [role="option"],
html.dark [role="menuitem"],
html.dark [class*="SelectItem"],
html.dark [class*="DropdownMenuItem"] {
  color: #f8fafc !important;
  /* Slate-50 */
  cursor: pointer;
}

html.dark [role="option"]:hover,
html.dark [role="option"][data-highlighted],
html.dark [role="menuitem"]:hover,
html.dark [role="menuitem"][data-highlighted],
html.dark [class*="SelectItem"]:hover,
html.dark [class*="SelectItem"][data-highlighted] {
  background-color: #334155 !important;
  /* Slate-700 */
  color: #ffffff !important;
  outline: none;
}

/* Radix Select Items with Indicators */
html.dark [role="option"] [class*="SelectItemIndicator"] {
  color: #6366f1 !important;
  /* Indigo-500 */
}

/* Radix Labels/Separators */
html.dark [class*="SelectLabel"],
html.dark [class*="DropdownMenuLabel"] {
  color: #94a3b8 !important;
  /* Slate-400 */
}

html.dark [class*="SelectSeparator"],
html.dark [class*="DropdownMenuSeparator"] {
  background-color: #334155 !important;
}

/* Scroll Area in Select */
html.dark [class*="ScrollAreaScrollbar"] {
  background: #334155 !important;
}


/* React-Select Specific Overrides (Typically used by Puck) */
html.dark [class*="-control"],
html.dark [class*="-menu"] {
  background-color: #1e293b !important;
  border-color: #334155 !important;
  color: #f8fafc !important;
}

html.dark [class*="-menu"] [class*="-option"] {
  background-color: transparent !important;
  color: #cbd5e1 !important;
}

html.dark [class*="-menu"] [class*="-option"]:hover,
html.dark [class*="-menu"] [class*="-option"][class*="-focused"] {
  background-color: #334155 !important;
  color: #ffffff !important;
  cursor: pointer;
}

html.dark [class*="-singleValue"],
html.dark [class*="-input"] {
  color: #f8fafc !important;
}

html.dark [class*="-indicatorContainer"] svg {
  color: #94a3b8 !important;
}



/* --- GLOBAL PUCK THEME VARIABLES OVERRIDE (DARK MODE) --- */
/* This is the "Silver Bullet". Overriding the root variables forces Puck to render in Dark Mode natively */
html.dark {
  /* Swap White/Black for Dark Mode Base */
  --puck-color-white: #1e293b;
  /* Slate-800: Input Backgrounds */
  --puck-color-black: #f8fafc;
  /* Slate-50: Text */

  /* Adjustment for Greys to maintain contrast */
  --puck-color-grey-12: #1e293b;
  /* Lightest grey (now dark) */
  --puck-color-grey-11: #334155;
  /* Readonly bg */
  --puck-color-grey-10: #475569;
  --puck-color-grey-09: #475569;
  /* Borders (Slate-600) */

  --puck-color-grey-08: #94a3b8;
  --puck-color-grey-07: #cbd5e1;
  --puck-color-grey-06: #e2e8f0;

  /* Text Colors (Inverting standard usage) */
  --puck-color-grey-04: #f1f5f9;
  /* Slate-100: Primary Labels */
  --puck-color-grey-03: #f8fafc;

  /* Keep Sidebar Dark (grey-01 is usually dark sidebar bg) */
  --puck-color-grey-01: #0f172a;
  /* Slate 950 */
  --puck-color-grey-02: #1e293b;
  /* Slate 900 */
}

/* Fix "Text on Dark" components that used --puck-color-white */
/* Because we changed 'white' to 'dark', we must manually force white text on dark toolbars */
html.dark [class*="ActionBar"] {
  color: #ffffff !important;
}

html.dark [class*="IconButton"] {
  color: #e2e8f0;
}

/* Ensure Inputs have correct text color (inherits white from var override, but double check) */
html.dark input,
html.dark select,
html.dark textarea {
  color: #f8fafc !important;
}

/* React Select & Radix Overrides (Still needed for portals outside variable scope maybe?) */
html.dark [class*="-menu"],
html.dark [role="listbox"],
html.dark [role="menu"] {
  background-color: var(--puck-color-white) !important;
  /* Uses new dark var */
  border-color: var(--puck-color-grey-09) !important;
}

html.dark [class*="-option"],
html.dark [role="option"] {
  color: #e2e8f0 !important;
  background-color: transparent !important;
}

html.dark [class*="-option"]:hover,
html.dark [class*="-option"][class*="-focused"],
html.dark [role="option"][data-highlighted] {
  background-color: var(--puck-color-azure-05) !important;
  color: #ffffff !important;
}